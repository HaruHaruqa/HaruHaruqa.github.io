<!DOCTYPE html><html lang=ja><meta content="text/html; charset=UTF-8"http-equiv=Content-Type><link href=css/style.css rel=stylesheet><script src=js/jquery-1.12.0.js></script><script src=js/animation.js></script><title>HANASU用VCVC音源マニュアル</title><div id=contentsWrapper><div id=headerWrapper><span id=headerTitle>HANASU用VCVC音源マニュアル</span> <span id=headerAuthor>by Haruqa</span></div><div id=sideMenuWrapper><div id=sideMenu><ul><li id=menu1>HANASU用VCVC音源とは<hr><li id=menu2>録音方法<hr><li id=menu3>原音設定方法<hr><li id=menu4>発音表記対応表<hr><li id=menu5>音源使用方法<hr><li id=menu6>参考動画等<hr><li id=menu7>終わりに<hr><li id=menuAll>全部表示<hr></ul></div></div><div id=mainContentsWrapper><div id=mainContents><div class=page id=page0 style=display:block><div class=pageTitle>始めに</div><div class=pageContents>javascriptを有効にしてください。<br><p>動作確認環境<br>FireFox: 49.0.2<br>Google Chrome: 53.0.2785.143 m<br><p>現在研究開発中の音源形式なので、このマニュアルにある手法は今後変更される可能性があります。<p>更新履歴<br>2016/09/11 Ver.1.0.0 初版<br>2016/09/25 Ver.1.1.0 コンテンツ追加、誤字修正<br>2016/09/25 Ver.1.1.1 誤字修正<br>2016/09/25 Ver.1.2.0 コンテンツ追加、表現修正<br></div><div class=pageTitle>各種リンク</div><div class=pageContents><a href=http://haruharuharuqa.blogspot.jp/p/hanasu-yo-vcvc.html target=_blank>HANASU用VCVC音源紹介ページ</a><br><a href=http://nwp8861.web.fc2.com/soft/ target=_blank>OREMO、setParam等を配布されているページ</a><br><span>疑問などあれば：作者ツイッター→</span><a href=https://twitter.com/niconicoHaruqa target=_blank>@niconicoHaruqa</a></div></div><div class=page id=page1><div class=pageTitle>HANASU用VCVC音源とは</div>Haruqaが研究開発途中の音源で、HANASU用音源の解の一つです。<br>HANASUガチ勢のHANASUガチ勢によるHANASUガチ勢向けの音源となります。<br>音素の繋ぎ方、エイリアスの選定は専用プラグインによりほぼ実現されますが、一番重要なピッチは調声師に依存します。<div class=pageContents><div class=pageSubTitle>コンセプト</div>「コーパスを切って、HMMで繋げる。」<br>原音（コーパス）が多ければ多いほど、学習パターン（HMM）が多ければ多いほど、より良い合成結果が得られる。<br>というコンセプトの元、開発しました。<br>エイリアス推定を行うプラグイン(CVtoVCVCwithAI)を使用することを前提としています。<br><div class=pageSubTitle>録音リスト</div>録音リストは日本語自然文です。<br>また、原音にある文と同じ文を合成する際、一番自然な合成結果となるため、UTAU音源自身に決め台詞、口調、口癖などの設定がある場合、そのセリフ自体を録音リストに含めると効果的です。それゆえ、録音リストは音源ごとに最適化されるべきでしょう。<br><div class=pageSubTitle>録音者による発音の差異</div>録音者の出身地などから無声化の有無、鼻濁音など録音者によって発音の差異が生じることは避けられません。<br>ですが、無理に発音をあわせるより、録音者の自然な発音であるほうが、より自然な合成結果となると思われます。それゆえ、発音の差異は原音設定時のエイリアス設定で吸収し、必要な音素が確保できなかった場合は、別に発音しやすい文を用意すべきでしょう。<br><div class=pageSubTitle>エイリアス推定プラグイン</div>音素（エイリアス）の数が圧倒的に増えるため、すべて手動でエイリアスを設定するのは困難です。<br>この音源は、エイリアス推定プラグイン(CVtoVCVCwithAI)を使用することを前提としています。<br><div class=pageSubSubTitle>学習フェーズ</div><div class=pageSubSubContent>エイリアス推定プラグインは原音からの学習、調声済みustからの学習が必要となります。<br>そのため、この音源を配布する際は、原音設定だけではなく、学習フェーズを経る必要があります。<br></div><div class=pageSubTitle>VCVCエイリアス</div>エイリアスの見た目としては、VCVCとなっていますが、実際の音素に含まれるのは基本的に「VCV+VCの遷移部分」です。<br>このエイリアスの利点としては、親和性の高い音素を見た目から選びやすくなること、プラグインでエイリアスを推定する際の手がかりとなることです。上記学習フェーズにおける調声済みustからの学習の際の調声にも役立てることが出来ると思われます。<br><div class=pageSubTitle>足りない音素</div>VCVC音源で、すべての音素をカバーするのはほぼ不可能です。<br>足りない音素はVCVC音素から単音(CV)レベルで原音設定で切り出す、もしくは、エンベロープで前置母音/子音を削るなどして、カバーすることを前提としています。そのほか、既存の連続音、単独音を同封することでもカバーすることは可能です。しかし、声質の安定のために、VCVC音源から切り出すことを推奨しています。<br></div></div><div class=page id=page2><div class=pageTitle>録音方法</div><div class=pageContents>録音はoremoを使って行います。文の読み上げとなるため、ガイド音声はありません。<br>録音リストはHaruqaが開発公開中のもののほか、自分で作成することが出来ます。<br><div class=pageSubTitle>録音リスト</div>Haruqaが作成したものはHANASU用VCVC音源紹介ページからリンクをたどると見つけることが出来ます。<br>また、録音リストや原音設定用のファイルを生成するための支援ソフトウェア(RecordListGeneratorForHANASU.exe)も公開しています。生成した録音リストは自由に公開できるので、よりよい録音リストを研究していただけると幸いです。<br>（ソフトウェアには既知のバグは解消されていますが(2016/10/30現在)、まだバグが残っている可能性があります。バグ報告、追加機能の提案などご協力いただけると助かります。）<br><div class=pageSubSubTitle>録音リスト作成時の注意事項</div><div class=pageSubSubContent>一文中に間（句読点等による空白）は入れてはいけません。エイリアス推定プラグインにおける、oto.iniからの学習時に不具合を発生させます。<br>同様にして、ブレスが必要になるほどの長さの文は避けてください。<br></div><div class=pageSubSubTitle>録音リストの公開</div><div class=pageSubSubContent>HANASU用VCVC音源の録音リストの公開時は「録音リスト」「音名リスト」「oto.ini」を同時に公開することをお勧めします。<br>録音リスト：RecordListGeneratorForHANASU.exeで使用される漢字かな混ざり文、ひらがな読み、エイリアスが含まれた専用テキストファイルです。<br>音名リスト：oremoにて使用する音名リストです。<br>oto.ini：setParamで使用する原音設定ファイルです。<br></div><div class=pageSubSubTitle>音名リストの読み方</div><div class=pageSubSubContent>音名リストは漢字かな混ざり文となるため、読み方が不明な場合があります。その場合は、公開されているはずのRecordListGeneratorForHANASU.exeで出力される専用テキストファイル「録音リスト」を参照いただくと、判明すると思われます。<br>「録音リスト」はCVS形式のファイルなので、CVSファイルビュアーを用いると、見やすいと思われます。<br></div><div class=pageSubTitle>録音のポイント</div><div class=pageSubSubTitle>自然な発音で読む（鼻濁音とかは意識しなくて良いです、無声化も自然に）</div><div class=pageSubSubContent>→発音はそのまま合成結果に反映されます。<br>自然な発音かどうか分かり辛いときは、自然な速さでしゃべった波形と見比べてみると分かるかもしれません。</div><div class=pageSubSubTitle>ゆっくり読む（BPM100の16分音符くらい）</div><div class=pageSubSubContent>→ゆっくり読むことで、原音設定の矛盾を予防し原音設定が容易になること、合成時の引き伸ばし劣化の回避、発音の明確化が期待できます。<br>テンポは一長一短であり、録音者（原音設定を外部に依頼するときは原音設定者にも）に委ねます。<br>傾向：<br>テンポが遅い：調整時に素直に発音する⇔無声化パターンが乱れる傾向がある→原音設定である程度吸収することは出来る。<br>テンポが速い：調整時に発音が濁る⇔無声化パターンが一定、引き伸ばし劣化に弱い→発音の濁りはある程度エイリアス名でカバー出来る。<br></div><div class=pageSubSubTitle>テンポを安定させること</div><div class=pageSubSubContent>→テンポが途中で変化すると、前述のように原音設定に矛盾を発生させる原因となります。</div><div class=pageSubSubTitle>間を空けずに読む</div><div class=pageSubSubContent>→母音と子音間の空白を減らし、より滑らかな合成結果が期待できます。文途中のブレスも厳禁です。無理に母音と子音を詰める必要はありません。</div><div class=pageSubSubTitle>高低アクセント・ピッチ変化（イントネーション）は普通にしゃべるときと同じく、もしくは抑え気味に</div><div class=pageSubSubContent>→完全に棒読みにしてしまうと、発音に不自然さが現れます。しかし、ピッチの振れ幅が広すぎると声質に差異が生じてしまいます。</div><div class=pageSubSubTitle>声量（抑揚）を安定させること</div><div class=pageSubSubContent>→強い強弱アクセントは声質を変えてしまうとともに、周波数表破綻の原因となります。不自然にならない程度に安定させてください。</div><div class=pageSubSubTitle>声質を安定させること</div><div class=pageSubSubContent>→声質に極端な差が有ると、合成時に滑らかに音素を繋ぐことが難しくなります。</div><div class=pageSubTitle>録音サンプル</div>第一次HANASU用VCVC音源人柱に参加していただいた方々の録音サンプルです。<br>音声は録音→音量を調整したものです。<br>画像は録音→（必要に応じてノイズ処理）→リミッターによる音圧調整→音量正規化したものです。<br><div class=pageSubSubTitle>_技術説明用の録音リスト_秋月さまサンプル.wav</div><div class=pageSubSubContent><audio controls preload=auto src=audio/技術説明用の録音リスト_秋月さまサンプル.wav></audio><img src=img/技術説明用の録音リスト_秋月さまサンプル.PNG width=100%> 比較的テンポが遅く、素直な音源になります。</div><div class=pageSubSubTitle>_メモ帳で開いてみましょう_おふとんPさまサンプル.wav</div><div class=pageSubSubContent><audio controls preload=auto src=audio/メモ帳で開いてみましょう_おふとんPさまサンプル.wav></audio><img src=img/メモ帳で開いてみましょう_おふとんPさまサンプル.PNG width=100%> ちょうど良いテンポで、程よく滑らかな音源になります。</div><div class=pageSubSubTitle>_解説してみた_舞韻さまサンプル.wav</div><div class=pageSubSubContent><audio controls preload=auto src=audio/解説してみた_舞韻さまサンプル.wav></audio><img src=img/解説してみた_舞韻さまサンプル.PNG width=100%> 比較的テンポが速く、調声テンポも速めにするとちょうどよくなるでしょう。</div><div class=pageSubSubTitle>_エンジンを切り替えることで_Leo.さまサンプル.wav</div><div class=pageSubSubContent><audio controls preload=auto src=audio/エンジンを切り替えることで_Leo.さまサンプル.wav></audio><img src=img/エンジンを切り替えることで_Leo.さまサンプル.PNG width=100%> 語尾にエッヂが立っていて、周波数表が乱れがちです。周波数表を調整するか、別音素を割り当てて調声します。</div><div class=pageSubSubTitle>_これらを見てみましょう_枝冬ツクモさまサンプル.wav</div><div class=pageSubSubContent><audio controls preload=auto src=audio/これらを見てみましょう_枝冬ツクモさまサンプル.wav></audio><img src=img/これらを見てみましょう_枝冬ツクモさまサンプル.PNG width=100%> 語尾がouの発音になっています。原音設定時に発音にあわせてエイリアスを設定する必要があります。</div><div class=pageSubTitle>参考：録音後の読み間違えの確認方法</div>収録→フォルダ（explorer.exe）のファイルソートを更新日時にする→<br><img src=img/ファイルソート更新日時.PNG><br>wavを全選択→右クリックメニューからWindows Media Playerリストに追加→再生<br><img src=img/全選択再生.PNG><br>読みの入った録音リストのひらがな部分と比較して読み間違えが無いか確かめる<br></div></div><div class=page id=page3><div class=pageTitle>原音設定方法</div><div class=pageContents>原音設定はsetParamとRecordListGeneratorForHANASUから出力したoto.iniを用います。<br>原音設定の自動推定は使用できません。<br><div class=pageSubTitle>原音加工</div>必要に応じて、原音加工を行ってください。文読み上げの原音のため、音圧の差が大きいことが想定されます。適切に音量を確保してください。<br>また、通常の原音加工と同じように、必要に応じてノイズ処理を行ってください。<br><div class=pageSubTitle>エイリアスパターン</div>RecordListGeneratorForHANASUから出力されたoto.iniの時点でエイリアスは設定されていますが、必要に応じて修正する必要があります。<br><div class=pageSubSubTitle>VCVCエイリアス</div><div class=pageSubSubContent>基本的には、「[前の音素の母音（前の音素が無声化されている場合、前の音素の子音）] [ （半角スペース）][ひらがな][次の音素の子音]」の形をとります。ローマ字と発音の対応は、別ページ「発音表記対応表」を参照してください。</div><div class=pageSubSubTitle>語頭、語尾、促音、無声化</div><div class=pageSubSubContent>語頭はひらがな（単独音エイリアス）の前に、通常の連続音エイリアスと同じく「-」（半角ハイフン）と半角スペースを記述します。<br>語尾はひらがなの右に「R」（半角英数）を記述します。<br>促音（「っ」のこと）の前は、ひらがなの後に「Q」（半角英数）を記述します。促音の後は、ひらがなの前に「Q」（半角英数）を記述します。<br>母音が無声化されている場合、もしくはきわめて母音が短い場合は、ひらがなの後に「C」（半角英数）を記述します。<br>例1）解説してみた（かいせつしてみた）→「- かi,a いs,i せts,e つCsy,ts しCt,sy てmy,e みt,i たR」<br>例2）学校（がっこう）→「- がQk,aQ こo,o おR」<br>例3）そうです→「- そo,o おd,o でs,e すCR」<br>無声化が語尾で発生した場合はCを先に記述します。<br>※注意：RecordListGeneratorForHANASUから自動生成、出力されたoto.iniの出力では、ひらがな通りのエイリアスとなるため、発音にあわせて修正してください。（たとえば例2は「- がQk,aQ こu,o うR」となっています。）<br></div><div class=pageSubTitle>setParamの設定</div>オプション→マウス、キー操作の設定→パラメータの自動フォーカス設定 で <img src=img/setParam設定1.png><br>フォーカスしない を選択してください。<br><img src=img/setParam設定2.png><div class=pageSubSubTitle>setParamで良く使うショートカット</div><div class=pageSubSubContent>Space：選択している原音を再生<br>F1：左ブランクをカーソル位置にあわせる<br>F2：オーバーラップをカーソル位置にあわせる<br>F3：先行発音をカーソル位置にあわせる<br>F4：子音部をカーソル位置にあわせる<br>F5：右ブランクをカーソル位置にあわせる<br>F8：左ブランクから右ブランクまで再生<br>マウススクロール上（波形描写域内）：前のエイリアスへ<br>マウススクロール下（波形描写域内）：次のエイリアスへ<br>マウススクロール上（スクロールバーより下）：左へスクロール<br>マウススクロール下（スクロールバーより下）：右へスクロール<br></div><div class=pageSubTitle>原音設定例</div>固定値：RecordListGeneratorForHANASUから出力されたoto.iniにあらかじめ、オーバーラップ、先行発音、子音部が設定されています。<br>次の音素の子音の明確な発音前：s、k、など引き伸ばされるとノイズになってしまう子音部分を避けることをこのように表現しています。<br>接頭辞、接尾辞：前者が単独音エイリアス（ひらがな）より左にあるアルファベット、後者が右にあるアルファベットです。<br><div class=pageSubSubTitle>語頭</div><div class=pageSubSubContent><img src=img/原音設定例1_語頭.PNG width=100%> 左ブランク、オーバーラップ、先行発音、子音部：語頭は通常の単独音と同じく設定してください。<br>右ブランク：次の音素の子音（もしくは母音）の明確な発音前に設定してください。<br></div><div class=pageSubSubTitle>通常VCVC</div><div class=pageSubSubContent><img src=img/原音設定例2_VCVC.PNG width=100%> 左ブランク、オーバーラップ、先行発音、子音部：固定値のまま、先行発音位置を子音と母音の間に合わせてください。<br>右ブランク：次の音素の子音（もしくは母音）の明確な発音前に設定してください。（n、mなど口を閉じて発音される子音はこの例のように音素内に取り込むことが出来ます。母音が短めで致命的な引き伸ばし劣化が心配される際は多めに音素内に含めてください。）<br></div><div class=pageSubSubTitle>語尾</div><div class=pageSubSubContent><img src=img/原音設定例4_語尾.PNG width=100%> 左ブランク、オーバーラップ、先行発音、子音部：固定値のまま、先行発音位置を子音と母音の間に合わせてください。<br>右ブランク：十分空白をとって設定してください。<br></div><div class=pageSubSubTitle>長音もしくは同じ母音</div><div class=pageSubSubContent><img src=img/原音設定例3_長音もしくは同じ母音.PNG width=100%> 左ブランク、オーバーラップ、先行発音、子音部：固定値のまま、先行発音位置を子音と母音の間に合わせてください。<br>右ブランク：長音もしくは同じ母音の場合、その母音部分も含めて、次の音素の子音（もしくは母音）の明確な発音前に設定してください。<br></div><div class=pageSubSubTitle>無声化(VC)</div><div class=pageSubSubContent><img src=img/原音設定例5_無声化.PNG width=100%> 左ブランク、オーバーラップ、先行発音、子音部：固定値のまま、オーバーラップを前の音素の母音と無声化された子音の間に合わせてください。<br>右ブランク：次の音素の子音の発音前に設定してください。<br>次の音素の子音との間隔が短く、引き伸ばし劣化が心配される場合は、固定値部分を左にずらすなど工夫してください。<br>接尾辞に「C」を追加してください。<br></div><div class=pageSubSubTitle>無声化音素の次の音素（CCV)</div><div class=pageSubSubContent><img src=img/原音設定例6_無声化音素の次の音素.PNG width=100%> 左ブランク、オーバーラップ、先行発音、子音部：固定値のまま、オーバーラップを前の音素の母音と無声化された子音の間に合わせてください。<br>右ブランク：次の音素の子音（もしくは母音）の明確な発音前に設定してください。<br>接頭辞を適切に変更してください。<br></div><div class=pageSubSubTitle>擬似無声化(CVCV)</div><div class=pageSubSubContent><img src=img/原音設定例7_擬似無声化.PNG width=100%> 左ブランク、オーバーラップ、先行発音、子音部：固定値のまま、オーバーラップを前の音素の母音と無声化された子音の間に合わせてください。<br>右ブランク：次の音素の子音の発音前に設定してください。<br>前の音素の母音が短い場合は、このように擬似的に無声化エイリアスを設定する、もしくは固定値を変更して子音が入らないようにしてください。<br>前の音素の子音を含める場合は、接頭辞を適切に変更してください。<br></div><div class=pageSubSubTitle>促音</div><div class=pageSubSubContent><img src=img/原音設定例8_促音.PNG width=100%> 左ブランク、オーバーラップ、先行発音、子音部：固定値のまま、オーバーラップを前の音素の母音と無声化された子音の間に合わせてください。<br>右ブランク：空白部分を含み次の音素の子音の発音前に設定してください。<br></div><div class=pageSubSubTitle>促音の次の音素</div><div class=pageSubSubContent><img src=img/原音設定例9_促音の次の音素.PNG width=100%> 左ブランク、オーバーラップ、先行発音、子音部：通常VCVCと同様に、固定値のまま、オーバーラップを前の音素の母音と無声化された子音の間に合わせてください。<br>右ブランク：次の音素の子音（もしくは母音）の明確な発音前に設定してください。<br></div><div class=pageSubSubTitle>拗音で母音が濁る場合</div><div class=pageSubSubContent><img src=img/原音設定例10_拗音で母音が濁る場合.PNG width=100%> 左ブランク、オーバーラップ、先行発音、子音部：固定値のまま、オーバーラップを前の音素の母音と無声化された子音の間に合わせてください。<br>右ブランク：次の音素の子音（もしくは母音）の明確な発音前に設定してください。<br>拗音「ょ」などで前の音素の母音が濁る場合、この例のように接頭辞を「y」とする、もしくは固定値を変更して濁らないようにしてください。</div><div class=pageSubTitle>重複エイリアス処理</div>CVtoVCVCwithAIでoto.iniから学習する際に、重複エイリアスが有ると正しく学習が行えないため、原音設定終了後重複エイリアス処理を行います。<br>原音設定中にエイリアスが変更される可能性があるため、必ず原音設定が終了してから重複エイリアス処理を行ってください。<br><br>setParamの ツール→エイリアス一括変更を選択します。 <img src=img/重複エイリアス処理1.png><br><br>変換規則に%a%rを記述し、全wavに対して実行 を行ってください。 <img src=img/重複エイリアス処理2.png><br><div class=pageSubTitle>周波数表の破綻</div>声質が歌声とは異なるため、周波数表が破綻しやすい傾向があります。可能な限りチェックしてください。<br>HANASU用VCVC音源用原音設定チェッカーを公開しています。ご活用ください。<br><img src=img/HANASU用VCVC音源用原音設定チェッカー.PNG></div></div><div class=page id=page4><div class=pageTitle>発音表記対応表</div><div class=pageContents>い段にyを含む以外は一般的な対応であると思われます。<table border=1 cellpadding=5 cellspacing=0><tr><td>あ<td>a<td><br><td>た<td>ta<td><br><td>ま<td>ma<td><br><td>が<td>ga<td><br><td>ば<td>ba<td><br><td>ヴぁ<td>va<tr><td>い<td>i<td><br><td>ち<td>cyi<td><br><td>み<td>myi<td><br><td>ぎ<td>gyi<td><br><td>び<td>byi<td><br><td>ヴぃ<td>vyi<tr><td>う<td>u<td><br><td>つ<td>tsu<td><br><td>む<td>mu<td><br><td>ぐ<td>gu<td><br><td>ぶ<td>bu<td><br><td>ヴ<td>vu<tr><td>え<td>e<td><br><td>て<td>te<td><br><td>め<td>me<td><br><td>げ<td>ge<td><br><td>べ<td>be<td><br><td>ヴぇ<td>ve<tr><td>お<td>o<td><br><td>と<td>to<td><br><td>も<td>mo<td><br><td>ご<td>go<td><br><td>ぼ<td>bo<td><br><td>ヴぉ<td>vo<tr><td>か<td>ka<td><br><td>ちゃ<td>cya<td><br><td>みゃ<td>mya<td><br><td>ぎゃ<td>gya<td><br><td>びゃ<td>bya<td><br><td><br><td><br><tr><td>き<td>kyi<td><br><td>ちゅ<td>cyu<td><br><td>みゅ<td>myu<td><br><td>ぎゅ<td>gyu<td><br><td>びゅ<td>byu<td><br><td><br><td><br><tr><td>く<td>ku<td><br><td>ちぇ<td>cye<td><br><td>みぇ<td>mye<td><br><td>ぎぇ<td>gye<td><br><td>びぇ<td>bye<td><br><td><br><td><br><tr><td>け<td>ke<td><br><td>ちょ<td>cyo<td><br><td>みょ<td>myo<td><br><td>ぎょ<td>gyo<td><br><td>びょ<td>byo<td><br><td><br><td><br><tr><td>こ<td>ko<td><br><td>てぃ<td>tyi<td><br><td>や<td>ya<td><br><td>ざ<td>za<td><br><td>ぱ<td>pa<td><br><td><br><td><br><tr><td>きゃ<td>kya<td><br><td>とぅ<td>tu<td><br><td>ゆ<td>yu<td><br><td>じ<td>ji<td><br><td>ぴ<td>pyi<td><br><td><br><td><br><tr><td>きゅ<td>kyu<td><br><td>な<td>na<td><br><td>よ<td>yo<td><br><td>ず<td>zu<td><br><td>ぷ<td>pu<td><br><td><br><td><br><tr><td>きぇ<td>kye<td><br><td>に<td>nyi<td><br><td>ら<td>ra<td><br><td>ぜ<td>ze<td><br><td>ぺ<td>pe<td><br><td><br><td><br><tr><td>きょ<td>kyo<td><br><td>ぬ<td>nu<td><br><td>り<td>ryi<td><br><td>ぞ<td>zo<td><br><td>ぽ<td>po<td><br><td><br><td><br><tr><td>さ<td>sa<td><br><td>ね<td>ne<td><br><td>る<td>ru<td><br><td>じゃ<td>ja<td><br><td>ぴゃ<td>pya<td><br><td><br><td><br><tr><td>し<td>syi<td><br><td>の<td>no<td><br><td>れ<td>re<td><br><td>じゅ<td>ju<td><br><td>ぴゅ<td>pyu<td><br><td><br><td><br><tr><td>す<td>su<td><br><td>にゃ<td>nya<td><br><td>ろ<td>ro<td><br><td>じぇ<td>je<td><br><td>ぴぇ<td>pye<td><br><td><br><td><br><tr><td>せ<td>se<td><br><td>にゅ<td>nyu<td><br><td>りゃ<td>rya<td><br><td>じょ<td>jo<td><br><td>ぴょ<td>pyo<td><br><td><br><td><br><tr><td>そ<td>so<td><br><td>にぇ<td>nye<td><br><td>りゅ<td>ryu<td><br><td>だ<td>da<td><br><td>ふぁ<td>fa<td><br><td><br><td><br><tr><td>しゃ<td>sya<td><br><td>にょ<td>nyo<td><br><td>りぇ<td>rye<td><br><td>で<td>de<td><br><td>ふぃ<td>fi<td><br><td><br><td><br><tr><td>しゅ<td>syu<td><br><td>は<td>ha<td><br><td>りょ<td>ryo<td><br><td>ど<td>do<td><br><td>ふぇ<td>fe<td><br><td><br><td><br><tr><td>しぇ<td>sye<td><br><td>ひ<td>hyi<td><br><td>わ<td>wa<td><br><td>でぃ<td>dyi<td><br><td>ふぉ<td>fo<td><br><td><br><td><br><tr><td>しょ<td>syo<td><br><td>ふ<td>fu<td><br><td>を<td>wo<td><br><td>どぅ<td>du<td><br><td><br><td><br><td><br><td><br><td><br><tr><td><br><td><br><td><br><td>へ<td>he<td><br><td>ん<td>nn<td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><tr><td><br><td><br><td><br><td>ほ<td>ho<td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><tr><td><br><td><br><td><br><td>ひゃ<td>hya<td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><tr><td><br><td><br><td><br><td>ひゅ<td>hyu<td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><tr><td><br><td><br><td><br><td>ひぇ<td>hye<td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><tr><td><br><td><br><td><br><td>ひょ<td>hyo<td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br><td><br></table></div></div><div class=page id=page5><div class=pageTitle>音源使用方法</div>HANASU用VCVC音源はCVtoVCVCwithAIというエイリアス推定プラグインを使用することを前提としています。HANASU用VCVC音源紹介ページからダウンロードできます。<div class=pageContents><div class=pageSubTitle>プラグイン学習フェーズ</div>CVtoVCVCwithAIの学習記録ファイルが存在しない場合、最初にoto.iniから学習を行います。<br>音源の配布元から提供されている場合などは、学習記録ファイルに設定してください。<br><div class=pageSubSubTitle>既知の制約</div><div class=pageSubSubContent>エイリアスに重複はないものとする<br>エイリアスは原音ごとに、左から順に設定されてるものとする<br>エイリアスは必ずひらがなと半角スペースを含む<br>エイリアスの接尾辞接頭辞にひらがなを含まない<br>※これらはustから学習する場合のエイリアスにも当てはまります。</div><div class=pageSubSubTitle>oto.iniから学習</div><div class=pageSubSubContent>使用するHANASU用VCVC音源をUTAUに設定してから、CVtoVCVCwithAIを立ち上げてください。<br>学習元oto.iniファイルに原音設定済みのoto.iniを設定し、oto.iniから学習　ボタンをクリックしてください。<br><img src=img/oto.iniから学習.png><br>少々時間がかかります。カーソルがロード状態から、矢印に戻ると学習が終了しています。<br>※Ver.0.4.0から推奨される学習記録ファイルの保存位置（初期作成時保存位置）が用意されています（学習記録フォルダ）。</div><div class=pageSubSubTitle>調声済みustから学習</div><div class=pageSubSubContent>調声済みustから学習を行うことも出来ます。つまり、原音にないパターンを学習して、次のエイリアス推定の材料とすることが出来ます。<br>学習させたいパターンを含む、調声済みustをUTAU上から選択した状態で、CVtoVCVCwithAIを立ち上げ、読み込みustから学習 ボタンをクリックすると、学習が行われます。<br></div><div class=pageSubSubTitle>エイリアスの変更</div><div class=pageSubSubContent>学習で音源のエイリアスを文字列として保存しているので、学習後に音源のエイリアスを変更するのは推奨されません。<br>ただし、学習記録ファイルの内部にあるエイリアスを同じく変更する場合は問題ありません。</div><div class=pageSubSubTitle>原音追加時</div><div class=pageSubSubContent>原音を追加した場合は、追加した原音のoto.iniを追加する前のoto.iniに追記し、重複エイリアスがある場合は通し番号を振りなおす。<br>通し番号を振りなおしたoto.iniから追加した原音部分を抜き出し、oto.iniから学習を行う。<br>もしくは、HANASU用VCVC音源用原音設定チェッカー等を用いて、追加部分のustから学習を行う。<br>などの方法で、学習記録ファイルに情報を追加する必要があります。ページ下に例を掲載しています。<br></div><div class=pageSubTitle>エイリアス推定</div>単独音エイリアス（接頭辞接尾辞が無いひらがな）でしゃべらせたいノートを並べ、そのノートを選択し、CVtoVCVCwithAIを立ち上げ、推定実行 ボタンをクリックすると、単独音エイリアスからVCVCエイリアスへ推定、変換が行われます。既存の単独音→連続音変換器のように使えると思われます。<br><span style=text-decoration:line-through>※促音は「Q」で入力するとより正しく推定が行われます。</span><br>※CVtoVCVCwithAI - Ver.0.3.0以降だと、「っ」を自動で「Q」に置き換えます。<div class=pageSubSubTitle>長音「－」のノートの置き方</div><div class=pageSubSubContent>HANASU用VCVC音源は原音が非常に短いため、長音を調声する場合は、一つのノートを伸ばすのではなく、母音ノートを新たに置くことを推奨します。また、長音を含む原音のパターンが当てはまると、より良い推定結果となることが予測されます。</div><div class=pageSubSubTitle>曖昧検索する</div><div class=pageSubSubContent>曖昧検索する にチェックを入れると、学習パターンにある「CVCVCV」の完全一致検索以外に、部分検索することが可能になります。<br>曖昧検索を有効にしたときの優先順位は以下。<br>完全一致：<br>CV[CV]CV<br>部分一致：<br>CV[CV]<br>V[CV]C<br>V[CV]C(発音が近い子音)<br>V[CV]<br>[CV]CV<br>[]内のCVが推定元のひらがな。<br>音素が発見できない場合は推定もとのひらがなをそのまま返します。また、学習記録ファイルの先頭から検索し、初めに見つけたものを結果として返します。<br></div><div class=pageSubSubTitle>使用例</div>エイリアス推定前<br><img src=img/使用例1.PNG width=100%><br>エイリアス推定後<br><img src=img/使用例2.PNG width=100%><br><div class=pageSubSubTitle>推定後のエイリアス調整</div><div class=pageSubSubContent>学習記録ファイルがよく育てられていないと、推定だけでは滑らかに音素が繋がらない可能性が高いです。推定後のエイリアス調整→ustから学習を繰り返すことで、学習記録ファイルを育てることが出来ます。<br>ノート上でShiftを押し下げながら、右クリックをすると、そのひらがなを含む別のエイリアスを選択できるメニューが開きます。ご活用ください。<br>また、原音設定から、VCVエイリアスの原音から単独音レベルで切り出し、そのエイリアスを学習記録ファイルに記録し、次の推定に使用することが出来ます。エイリアスには、半角スペースを含まなければならないため、「- あ[次の音素の子音] 」のようなエイリアスを設定することを推奨します。[次の音素の子音]を入れることで曖昧検索時の検索対象となります。<br>※最初の原音設定後に単独音エイリアスを追加するなど、oto.iniの改変を行うとoto.iniからの学習が正常に機能しなくなりますのでご注意ください。oto.iniからの学習後の改変は問題ありません。（改変許可は音源提供側の利用規約等をご確認ください）<br></div><div class=pageSubTitle>推奨UTAU設定</div>Tempo：140、Length：16分音符、Mod:0です。<br>最適なテンポ、breなどは音源に依存します。<div class=pageSubTitle>参考：原音追加方法</div>・追加前のoto.ini<br><img src=img/追加前のoto.ini.PNG><br>・追加したいoto.ini<br><img src=img/追加したいoto.ini.PNG><br>上記二つのoto.iniを合わせたい場合、まず二つのファイルを統合し（追加したいoto.ini内容を追加前のoto.iniへ追記）<br><img src=img/統合後oto.ini.PNG><br>以下のように現在付いているエイリアスの通し番号を削除します。（ここではフリーソフトのサクラエディタとsetParamを使用）<br>・エイリアス列を全て選択しコピー<br><img src=img/setParamエイリアス選択.PNG><br>・サクラエディタに貼り付け→検索→置換→置換前に \d を記入、正規表現にチェックをつけ、すべて置換 ボタンをクリック<br><img src=img/サクラエディタ置換.PNG><br>・通し番号削除後 <img src=img/サクラエディタ置換後.PNG><br>・全て選択しコピー→setParamのエイリアス列を全て選択し貼り付け <img src=img/setParamエイリアス選択置換後.PNG><br>以降はsetParamを用いて通し番号を振ってください。詳細は 原音設定方法 の 重複エイリアス処理 に記載されています。<br>・追加分の学習を行うために、通し番号を振りなおしたものから追加部分を切り出し別ファイルに保存<br><img src=img/通し番号振りなおし差分.PNG><br>上記 oto.iniから学習 と同様にしてここで切り出した追加部分を学習元oto.iniファイルに設定し oto.iniから学習 を行います。<br>以上で原音の追加は完了です。<br></div></div><div class=page id=page6><div class=pageTitle>参考動画等</div><div class=pageContents><div class=pageSubTitle>デモ@ニコニコ動画</div><div class=pageSubSubContent><iframe frameborder=0 height=200 scrolling=no src=http://ext.nicovideo.jp/thumb/sm29756999 style="border:solid 1px #CCC"width=400><a href=http://www.nicovideo.jp/watch/sm29756999>【ニコニコ動画】【UTAU】HANASU用VCVC音源デモ【VCVC？】</a></iframe></div><div class=pageSubTitle>導入使い方@ニコニコ動画</div><div class=pageSubSubContent><iframe frameborder=0 height=200 scrolling=no src=http://ext.nicovideo.jp/thumb/sm29933464 style="border:solid 1px #CCC"width=400><a href=http://www.nicovideo.jp/watch/sm29933464>【ニコニコ動画】【HANASU用VCVC音源】導入と使い方【UTAU】</a></iframe></div><div class=pageSubTitle>歌に使った例（推奨はされない）@ニコニコ動画</div><div class=pageSubSubContent><iframe frameborder=0 height=200 scrolling=no src=http://ext.nicovideo.jp/thumb/sm29912785 style="border:solid 1px #CCC"width=400><a href=http://www.nicovideo.jp/watch/sm29912785>【ニコニコ動画】【南極リョク】ゴーストルール【UTAUカバー】</a></iframe></div><div class=pageSubTitle>歌に使った例2（推奨はされない）@tmbox via twitter</div><div class=pageSubSubContent><blockquote class=twitter-tweet data-lang=ja><p dir=ltr lang=ja>∬きいてなう∬　【title:【UTAUカバー】裏表ラバーズ(wowaka)【HaruqaVCVC】】 upload by <a href=https://twitter.com/niconicoHaruqa>@niconicoHaruqa</a> <a href="https://twitter.com/hashtag/tmbox_1122672?src=hash">#tmbox_1122672</a> <a href=https://t.co/YsKRyh7k8s>https://t.co/YsKRyh7k8s</a></p>— Haruqa (@niconicoHaruqa) <a href=https://twitter.com/niconicoHaruqa/status/785320535626440704>2016年10月10日</a></blockquote></div><div class=pageSubTitle>連続音とHANASU用VCVC音源の比較画像@twitter</div><div class=pageSubSubContent><blockquote class=twitter-tweet data-lang=ja><p dir=ltr lang=ja>連続音とHANASU用VCVC音源の違いをペッっと画像化するとこんな感じ、どっちもP0フラグ付いてる。VCV→VCVC説明無し→VCVC説明付き <a href=https://t.co/RZWfbNDVV0>pic.twitter.com/RZWfbNDVV0</a></p>— Haruqa (@niconicoHaruqa) <a href=https://twitter.com/niconicoHaruqa/status/783300994335514625>2016年10月4日</a></blockquote></div><div class=pageSubTitle>調整時間比較@twitter</div><div class=pageSubSubContent><blockquote class=twitter-tweet data-lang=ja><p dir=ltr lang=ja>（たぶん）お分かりいただけない･･･。 <a href=https://t.co/2BrCPnk87H>pic.twitter.com/2BrCPnk87H</a></p>— Haruqa (@niconicoHaruqa) <a href=https://twitter.com/niconicoHaruqa/status/784010124763406340>2016年10月6日</a></blockquote></div><div class=pageSubTitle>多音階（表情音源）テスト@twitter</div><div class=pageSubSubContent><blockquote class=twitter-tweet data-lang=ja><p dir=ltr lang=ja>HANASU用VCVC音源多音階（表情音源）テスト<br>三つ突っ込んでみた。<br>切り替えはPrefixMap、他音階の音源を混ぜての学習は出来るけどお勧めはしない。制約が多い＆取り扱いが複雑なので、実用は難しいかな。別音源として作ったほうが分かりやすいし、楽。 <a href=https://t.co/N3oz0VJqia>pic.twitter.com/N3oz0VJqia</a></p>— Haruqa (@niconicoHaruqa) <a href=https://twitter.com/niconicoHaruqa/status/785103693884432384>2016年10月9日</a></blockquote></div><div class=pageSubTitle>囁き音源テスト@twitter</div><div class=pageSubSubContent><blockquote class=twitter-tweet data-lang=ja><p dir=ltr lang=ja>囁きテスト拡張。単独音でやってる人はたまに見かけるけど、連続音でやってる人はあまり見ない気がする。 <a href=https://t.co/kjrKv84xPl>pic.twitter.com/kjrKv84xPl</a></p>— Haruqa (@niconicoHaruqa) <a href=https://twitter.com/niconicoHaruqa/status/782558630033825792>2016年10月2日</a></blockquote></div><div class=pageSubTitle>原音設定風景@twitter</div><div class=pageSubSubContent><blockquote class=twitter-tweet data-lang=ja><p dir=ltr lang=ja>せっかくだからHANASU用VCVC音源の原音設定風景をキャプチャしてみた。<br>セキュリティもやっと。 <a href=https://t.co/fRmvESWu6a>pic.twitter.com/fRmvESWu6a</a></p>— Haruqa (@niconicoHaruqa) <a href=https://twitter.com/niconicoHaruqa/status/787183688882630656>2016年10月15日</a></blockquote></div></div></div><div class=page id=page7><div class=pageTitle>終わりに</div><div class=pageContents><div class=pageSubTitle>協力者様</div>このマニュアルを作成するに当たり、HANASU用VCVC音源を録音、提供いただいた協力者様の一覧です。（順不同）<div class=pageSubSubContent>・おふとんP さま<br>・舞韻 さま<br>・秋月 さま<br>・Leo. さま<br>・枝冬ツクモ さま<br>ご協力ありがとうございました。<br></div></div></div></div></div><div id=footerWrapper><span id=copyright>Copyright Haruqa 2016</span></div></div><div id=toUpBtn><span>上に戻る</span></div>